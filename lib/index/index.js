!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("classnames"),require("../icon"),require("react-dom"),require("../button"),require("react-select"),require("../button/style.css"),require("../icon/style.css")):"function"==typeof define&&define.amd?define(["react","classnames","../icon","react-dom","../button","react-select","../button/style.css","../icon/style.css"],t):"object"==typeof exports?exports.index=t(require("react"),require("classnames"),require("../icon"),require("react-dom"),require("../button"),require("react-select"),require("../button/style.css"),require("../icon/style.css")):(e["kingdee-ui-test"]=e["kingdee-ui-test"]||{},e["kingdee-ui-test"].index=t(e.react,e.classnames,e["../icon"],e["react-dom"],e["../button"],e["react-select"],e["../button/style.css"],e["../icon/style.css"]))}(window,function(e,t,n,r,o,a,i,c){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=24)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){"use strict";var r=n(6);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t,n){"use strict";n.r(t);n(15);var r=n(7),o=n.n(r),a=(n(16),n(3)),i=n.n(a),c=n(0),u=n.n(c),s=n(4),l=n.n(s);n(17);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,m(t).call(this,e))).state={visible:!!e.visible},n.node=document.createElement("div"),n.node.className="kingdee-modal",n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,u.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return{visible:e.visible}}}],(r=[{key:"componentDidMount",value:function(){document.body.appendChild(this.node)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.visible,r=e.onClose,a=e.onFooter,c=e.onOk,s=e.title,f=e.width,p=e.zIndex;return l.a.createPortal(u.a.createElement("div",{style:{display:n?"block":"none"}},u.a.createElement("div",{key:"modal-shade",className:"modal-shade"}),u.a.createElement("div",{key:"modal-content",className:"modal-content",style:{width:f||520,zIndex:p||1e3}},u.a.createElement("div",{className:"modal-content-header"},u.a.createElement("div",{className:"left"},u.a.createElement("span",{className:"title"},s||"弹框")),u.a.createElement("div",{className:"right"},u.a.createElement(i.a,{onClick:r,style:{},type:"close"}))),u.a.createElement("div",{className:"modal-content-children"},t),u.a.createElement("div",{className:"modal-content-footer"},a||u.a.createElement(o.a,{type:"primary",onClick:c},"确认")))),this.node)}}])&&p(n.prototype,r),a&&p(n,a),t}();t.default=b},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a);n(18);t.default=function(e){var t,n,r,a=i()((t={"kingdee-icon":!0,"kingdee-icon-spin":!!e.spin||"loading"===e.type},n="kingdee-icon-".concat(e.type),r=!!e.type,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return o.a.createElement("i",{onClick:e.onClick,style:e.style,className:a})}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a);n(20);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t,n=i()((c(t={"kingdee-btn":!0},"kingdee-btn--".concat(e.type),!!e.type),c(t,"kingdee-btn--".concat(e.size),!!e.size),t));return o.a.createElement("button",{className:n,onClick:e.onClick,style:e.style},o.a.createElement("span",null,e.children?e.children:"button"))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),c=n(8),u=n.n(c);n(21);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){var t,n,r=i()((l(t={"kingdee-input":!0},"kingdee-input_".concat(e.type),!!e.type),l(t,"kingdee-input__".concat(e.status),!!e.status),t)),a=i()((l(n={},"kingdee-input-checkbox",!0),l(n,"kingdee-input-checkbox--".concat(e.status),!!e.status),n)),c={label:e.value,value:e.value};switch(e&&e.options&&e.options.some(function(t){return t.value===e.value})&&e.options.forEach(function(t){t.value===e.value&&(c=t)}),e.type){case"textarea":return o.a.createElement("input",s({onChange:e.onChange},e,{className:r}));case"checkbox":return o.a.createElement("div",{className:a},o.a.createElement("input",s({type:"checkbox"},e,{onChange:function(t){e.onChange&&e.onChange(t,"checkbox")},checked:!!e.value,className:"kingdee-input-checkbox_input"})),o.a.createElement("span",{className:"kingdee-input-checkbox_span"}));case"select":return o.a.createElement(u.a,s({},e,{placeholder:e.placeholder?e.placeholder:"",options:e.options,value:void 0===c?{}:c,className:"react-select",onChange:function(t){e.onChange&&e.onChange(t,"select")}}));default:return o.a.createElement("input",s({},e,{onChange:e.onChange,className:r,style:e.style,type:e.type?e.type:"text"}))}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=(n(22),n(3)),i=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){return o.a.createElement("div",{className:"kingdee-timeline-item"},e.first?o.a.createElement(i.a,{type:"location"}):o.a.createElement("div",{className:"kingdee-timeline-item--point"}),o.a.createElement("div",null,e.text),o.a.createElement("time",{className:"kingdee-timeline-item--time"},e.time))};t.default=function(e){return o.a.createElement("div",{className:"kingdee-timeline"},e.data.map(function(e,t){return o.a.createElement(u,c({first:0===t,key:e.key},e))}))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(2),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){return function(t){var n,r,a,d,m;return r=n=function(n){function r(e){var t,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=this,(t=!(o=l(r).call(this,e))||"object"!==c(o)&&"function"!=typeof o?f(n):o).state={form:{defineField:function(){return function(){return null}},submitForm:function(){return null},clearAllFields:function(){return null},setFields:function(){return null}},count:0},t.setForm=t.setForm.bind(f(t)),t}var a,i,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,o.a.Component),a=r,(i=[{key:"getChildContext",value:function(){return{setForm:this.setForm,name:e&&e.name?e.name:"kingdee-form"}}},{key:"setForm",value:function(e){this.setState({form:e})}},{key:"render",value:function(){return o.a.createElement(t,u({},this.props,{form:this.state.form}))}}])&&s(a.prototype,i),d&&s(a,d),r}(),a=n,d="childContextTypes",m={setForm:i.a.func,name:i.a.string},d in a?Object.defineProperty(a,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[d]=m,r}},m=n(1),y=n.n(m);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){return e&&e.props&&e.props.config&&e.props.config.rules&&e.props.config.rules.some(function(e){return e.require})},E="error",j=function(e,t){return t.every(function(t){return t.require&&!e.trim()?(E=t.message?t.message:"error",!1):!(t.regExp&&!new regExp(t.regExp).test(e))||(E=t.message?t.message:"error",!1)})},x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=v(t).call(this,e),n=!o||"object"!==b(o)&&"function"!=typeof o?g(r):o,O(g(n),"getCheck",function(e){var t=n.props.children;t.props.config&&t.props.config.rules&&t.props.config.rules.length>0&&(j(e,t.props.config.rules)?n.state.message&&n.setState({message:""}):n.setState({message:E}))}),O(g(n),"handleChange",function(e,t){var r;switch(t){case"checkbox":r=e.target.checked;break;case"select":r=e.value;break;default:r=e.target.value}n.state.first&&n.setState({first:!1}),n.handleUpdata(r),n.setState({value:r})}),n.state={value:"",message:"",first:!0},n.handleChange=n.handleChange.bind(g(n)),n.getCheck=n.getCheck.bind(g(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,o.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;(0,this.context.updateStatus)(function(t){var n=e.props.children,r=n&&n.props&&n.props.key;r&&(t.is__Value&&void 0!==t[r]&&(e.setState({value:t[r],first:!!t.is__clear}),e.handleUpdata(t[r],t.is__clear)),t.is__Msg&&void 0!==t[r]&&e.setState({message:t[r],first:!1}))})}},{key:"handleUpdata",value:function(e,t){var n=this.props.children;t||this.getCheck(e),n.props.onChange(e,n.props.key,t)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.style,a=e.labelStyle,i=e.vertical,c=e.children,u=e.inputStyle,s=this.state,l=s.message,f=s.value,p=s.first,d=c&&c.props&&void 0!==c.props.checked?c.props.checked:"",m=c&&c.props&&c.props.config&&void 0!==c.props.config.defaultValue?c.props.config.defaultValue:"",b=y()({"kingdee-form-item":!0,"kingdee-form-item__vertical":!!i}),h=y()({"kingdee-form-item-label":!0,"kingdee-form-item-label__require":!!_(c)}),v=y()({"kingdee-form-item-message":!0,"kingdee-form-item-message__error":!!l});return c?o.a.createElement("div",{className:b,style:n},o.a.createElement("label",{htmlFor:c.component?"".concat(c.props.name,"_").concat(c.props.key):"",className:h,style:a},"".concat(t)),o.a.createElement("div",{className:"kingdee-form-item-div",style:u},c.component?Object(r.cloneElement)(c.component,{id:"".concat(c.props.name,"_").concat(c.props.key),onChange:this.handleChange,style:u,checked:d,value:p?m:f,status:l?"error":""}):o.a.createElement("div",{className:"kingdee-form-item-text"},c),c&&c.props&&c.props.config&&c.props.config.hasIcon?c.props.config.hasIcon.icon:null,l?o.a.createElement("div",{className:v},l):null)):null}}])&&h(n.prototype,a),i&&h(n,i),t}();x.contextTypes={updateStatus:i.a.func};var w=x;n(19);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V={},I=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n].defaultValue?e[n].defaultValue:"";"boolean"!=typeof e[n].value&&e[n].value&&(r=e[n].value),e[n].rules&&e[n].rules.length>0&&function(e,t,n,r,o){t.every(function(t){return t.require&&!e.trim()?(n=t.message?t.message:n,r[o]=n,!1):!(t.regExp&&!new regExp(t.regExp).test(e)&&(n=t.message?t.message:n,r[o]=n,1))})}(r,e[n].rules,"".concat(n," error"),t,n)}),t},M=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=F(t).call(this))||"object"!==S(r)&&"function"!=typeof r?N(n):r).state={callbacks:[],errors:[]},e.defineField=e.defineField.bind(N(e)),e.submitForm=e.submitForm.bind(N(e)),e.handleChange=e.handleChange.bind(N(e)),e.updateStatus=e.updateStatus.bind(N(e)),e.clearAllFields=e.clearAllFields.bind(N(e)),e.setFields=e.setFields.bind(N(e)),e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.context.setForm;e&&e({defineField:this.defineField,submitForm:this.submitForm,clearAllFields:this.clearAllFields,setFields:this.setFields})}},{key:"updateStatus",value:function(e){var t=this.state.callbacks;"function"==typeof e&&(t.push(e),this.setState({callbacks:t}))}},{key:"getChildContext",value:function(){return{updateStatus:this.updateStatus}}},{key:"handleChange",value:function(e,t,n){var r=this.context.name;V[r]&&V[r][t]&&(V[r][t].value=e,n||"function"==typeof V[r][t].onChange&&V[r][t].onChange(e))}},{key:"setFields",value:function(e,t){var n=this.state.callbacks;e.is__Value=!0,e.is__clear=!!t,n.forEach(function(t){t(e)})}},{key:"setErrors",value:function(e){var t=this.state.callbacks;e.is__Msg=!0,t.forEach(function(t){t(e)})}},{key:"defineField",value:function(e,t){var n=this,r=this.context.name;return function(o){return V["".concat(r)]?void 0===V["".concat(r)]["".concat(e)]&&(V["".concat(r)]["".concat(e)]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):V["".concat(r)]={},{component:o,props:{key:e,name:r,config:t,onChange:n.handleChange,checked:t&&t.checked,defaultValue:t&&void 0!==t.defaultValue?t.defaultValue:"",value:""}}}}},{key:"submitForm",value:function(e){var t={},n=this.context.name,r={};n&&V[n]&&(V[n]&&Object.keys(V[n]).forEach(function(e){V[n][e]&&void 0!==V[n][e].value?t[e]=V[n][e].value:t[e]=V[n][e]&&void 0!==V[n][e].defaultValue?V[n][e].defaultValue:""}),r=I(V["".concat(n)]),this.setErrors(r),delete r.is__Msg);var o=Object.keys(r).map(function(e){return{index:e,error:r[e]}});0===o.length&&(o=null),e(o,t)}},{key:"clearAllFields",value:function(){var e=this.context.name,t={};Object.keys(V[e]).forEach(function(n){t[n]="",V[e][n].value=""}),this.setFields(t,!0)}},{key:"render",value:function(){var e=this.props.children;return o.a.createElement("form",{className:"kingdee-form"},e)}}])&&P(n.prototype,r),a&&P(n,a),t}();q(M,"childContextTypes",{updateStatus:i.a.func}),q(M,"contextTypes",{setForm:i.a.func,name:i.a.string}),M.create=d,M.Item=w;t.default=M},function(e,t){e.exports=i},function(e,t){e.exports=c},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(9);n.d(t,"Modal",function(){return r.default});var o=n(10);n.d(t,"Icon",function(){return o.default});var a=n(14);n.d(t,"Form",function(){return a.default});var i=n(11);n.d(t,"Button",function(){return i.default});var c=n(12);n.d(t,"Input",function(){return c.default});var u=n(13);n.d(t,"TimeLine",function(){return u.default})}])});